# https中间件

> https://blog.csdn.net/Cike___/article/details/109544449

微信小程序踩坑记录之中间证书
pc端访问小程序没有问题，但是手机访问时报错 “request:fail -2:net::ERR_FAILED”，怎么办？
前几天写完微信小程序(点我跳转)，以为总算是把坑踩过了，没想到测试的时候又给我来了一个大坑，当时为了测试配了一个二级域名，是之前同一个项目的官网域名，已经申请了挺久的了，也没太注意，直接把二级域名拿过来用，然后被这个坑折磨了好几天 T_T。

前端拿了二级域名，也在微信小程序处配置好了，但是我们手机访问的时候就是报错，“request:fail -2:net::ERR_FAILED” 进不到接口里面，开始我以为是有拦截没有放开，但是用 pc 端登录微信是可以访问的，没办法，只好去网上找找。

经过一番查找，发现是服务器中的域名证书缺少了中间证书导致的，
https://ssltools.digicert.com/checker/views/checkInstallation.jsp

在这个工具中输入我们的网站地址，点击检查后，就可以看到相关的内容


已经找到问题了，那我们来解决它吧
1、首先获取中间证书

在 https://www.myssl.cn/tools/downloadchain.html 网站中，将 crt 文件复制进去，点击获取中间证书并下载

2、在原有的 crt 文件后面追加(注意不是覆盖)所获得的中间证书内容

这里要提醒大家一下，注意看下你们 crt 证书内容是只有一段，还是两段，只有一段的话就是缺少中间证书，具体是这样追加的：


3、重启 nginx 服务器，就大功告成了