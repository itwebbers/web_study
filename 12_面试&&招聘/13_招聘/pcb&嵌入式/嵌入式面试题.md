#   嵌入式面试题目

##  软件部分

+   上一家公司的项目模式
    独立的产品还是项目模块化

+   蓝牙芯片在产品中的作用
    蓝牙模块是一种集成蓝牙功能的PCBA板，主要用于无线网络通讯，按功能可分为蓝牙数据模块（HY-40R201P、HY-40R204P）和蓝牙语音模块。主要由芯片、PCB板、外围器件构成（一般模块具有半成品的属性，是在芯片的基础上进行加工。换言之，蓝牙模块一般具有二次开发的特性）。如：HY-40R204P蓝牙模块则是基于TI CC2640R2F 蓝牙芯片，同时PCB板集成2.4G的PCB天线。
    蓝牙模块的作用简单来说就是以无线连接取代有线连接，将固定和移动信息设备组成个人局域网，实现设备之间低成本的无线互连通信。

+   蓝牙模块透传模式使用说明
    详情  https://jingyan.baidu.com/article/e8cdb32b267ccb37052bad34.html

+   蓝牙的传输速率， 成品模式及工作距离
    -   1MB/s     
    -   固件模式，通过spi烧录
    -   蓝牙设备分为三个功率等级，分别是：100mW（20dbm），2.5mW（4dbm）和1mW（0dbm），相应的有效范围是100米、10米和1米

+   蓝牙协议栈与网络协议栈的对比 
    <table>
    <thead>
    <tr>
    <th align="left">协议类型</th>
    <th align="left">网络层</th>
    <th align="left">传输层</th>
    </tr>
    </thead>
    <tbody><tr>
    <td align="left">TCP/IP模型</td>
    <td align="left">复杂网络的点对点传输</td>
    <td align="left">可靠性和数据顺序控制（TCP有，UDP无）</td>
    </tr>
    <tr>
    <td align="left">蓝牙协议</td>
    <td align="left">由于是简单的点对点传输，中间无其他节点，所以无专门网络层</td>
    <td align="left">无传输层。声音数据直接从Baseband到应用层，其他数据传输方式类似UDP</td>
    </tr>
    </tbody></table>

+   程序编译的过程
    -   预处理：预处理相当于根据预处理命令组装成新的C程 序，不过常以i为扩展名。
    -   编译：  将得到的i文件翻译成汇编代码。s文件。
    -   汇编：将汇编文件翻译成机器指令，并打包成可重定位目标程序的O文件。该文件是二进制文件，字节编码是机器指令。
    -   链接：将引用的其他O文件并入到我们程序所在的o文件中，处理得到最终的可执行文件。

+   TCP和UDP的区别

    ```html
        
    ```

    <table>
        <tr>
            <td>条件</td>
            <td>TCP</td>
            <td>UDP</td>
        </tr> 
        <tr>
            <td>是否连接</td>
            <td>面向连接</td>
            <td>面向非连接</td>
        </tr> 
        <tr>
            <td>传输可靠性</td>
            <td>可靠</td>
            <td>不可靠</td>
        </tr> 
        <tr>
            <td>应用场合</td>
            <td>传输大量数据</td>
            <td>少量数据</td>
        </tr> 
        <tr>
            <td>速度</td>
            <td>慢</td>
            <td>快</td>
        </tr> 
    </table>

    TCP的可靠性：
	首先，为了防止数据在传输的过程中被损坏，每个信息包都包含一个校验码，这个校验码头就是一个用来保证信息包在传输过程中没有被更改的 代码，当信息到达目的地的时候，接收方会对比较验码和收到的信息中的数据，如果校验码不对，则被信息包将被省略。

	第二，为了防止信息包丢失，TCP会要求接收方每收到一个信息包都反馈一下，如果接收方没有提供反馈，发送方会自动重发一次，一直到接收方 收到为止，或者它会判断网络链接断开了，就会在程序中返回一个错误的提示。

	第三，为了防止信息包重复或顺序错误，TCP每传送一个信息包都会传送一个序号，接收方会检查这个序号，确保收到该信息包，并把全部信息包 按顺序重新合并，同时，如果接收方看到一个已接收了的序号，则这个信息包就会被丢弃。

+   嵌入式系统总是要用户对变量或寄存器进行位操作。给定一个整型变量a，写两段代码，第一个设置a的bit 3，第二个清除a 的bit 3。在以上两个操作中，要保持其它位不变。
    -   不知道如何下手。该被面者从没做过任何嵌入式系统的工作。
    -    用bit fields。Bit fields是被扔到c语言死角的东西，它保证你的代码在不同编译器之间是不可移植的，同时也保证了的你的代码是不可重用的。我最近不幸看到 Infineon为其较复杂的通信芯片写的驱动程序，它用到了bit fields因此完全对我无用，因为我的编译器用其它的方式来实现bit fields的。从道德讲：永远不要让一个非嵌入式的家伙粘实际硬件的边。
    -   用 #defines 和 bit masks 操作。这是一个有极高可移植性的方法，是应该被用到的方法。最佳的解决方案如下：
    ```c##
        #define BIT3 (0x1 << 3)
        static int a;

        void set_bit3(void)
        {
            a |= BIT3;
        }
        void clear_bit3(void)
        {
            a &= ~BIT3;
        }

      ## 一些人喜欢为设置和清除值而定义一个掩码同时定义一些说明常数，这## 也是可以接受的。我希望看到几个要点：说明常数、|=和&=~操作。
    ```
+   是否做过Linux 驱动开发
    https://www.linuxidc.com/Linux/2011-10/44721.htm


##  硬件部分

+   9.1mm宽的互连线(1OZ铜厚)可以承载（）电流。
    1A

+   在高频PCB设计中，信号走线成为电路的一部分，在高于500MHz频率的情况下，走线具有哪些特性？ 
    电阻、电容、电感特性

+   布局布线的最佳准则是什么？ 
    磁通量最小化

+   走线长度的计算
    微带线-Lmax=9×tr.(Lmax-走线的最大长度cm，tr-信号的上升时间ns)。带状线-Lmax=7×tr.如果实际的走线比计算的最大走线长度Lmax要长，那么需要使用终端设计，以防止发生反射。


